"use strict";(self.webpackChunk_inversifyjs_framework_docs_site=self.webpackChunk_inversifyjs_framework_docs_site||[]).push([["149"],{994:function(a,e,i){i.r(e),i.d(e,{metadata:()=>s,default:()=>v,frontMatter:()=>n,contentTitle:()=>o,toc:()=>c,assets:()=>d});var s=JSON.parse('{"id":"class-validator/api","title":"API","description":"ClassValidationPipe","source":"@site/validation-docs/class-validator/api.mdx","sourceDirName":"class-validator","slug":"/class-validator/api","permalink":"/framework/validation/class-validator/api","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"API"},"sidebar":"validationSidebar","previous":{"title":"Introduction","permalink":"/framework/validation/class-validator/introduction"}}'),t=i(6820),r=i(7588),l=i(5144);let n={sidebar_position:2,title:"API"},o,d={},c=[{value:"ClassValidationPipe",id:"classvalidationpipe",level:2},{value:"Example: register a ClassValidationPipe globally",id:"example-register-a-classvalidationpipe-globally",level:3},{value:"Using class-validator decorators",id:"using-class-validator-decorators",level:2},{value:"Example: validate request body with class-validator",id:"example-validate-request-body-with-class-validator",level:3},{value:"Available Validation Decorators",id:"available-validation-decorators",level:3}];function p(a){let e={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",...(0,r.R)(),...a.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"classvalidationpipe",children:"ClassValidationPipe"}),"\n",(0,t.jsx)(e.p,{children:"Validates values using class-validator decorators and class-transformer for type conversion. The pipe automatically extracts parameter type metadata and validates incoming data against the decorated class properties."}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"ClassValidationPipe"})," can be registered as a global pipe: ",(0,t.jsx)(e.code,{children:"adapter.useGlobalPipe(new ClassValidationPipe())"}),".\nThis way, controller parameters with decorated classes are automatically validated."]}),"\n",(0,t.jsx)(e.h3,{id:"example-register-a-classvalidationpipe-globally",children:"Example: register a ClassValidationPipe globally"}),"\n",(0,t.jsx)(l.A,{language:"ts",children:"import { ClassValidationPipe } from '@inversifyjs/class-validation';\nimport { InversifyExpressHttpAdapter } from '@inversifyjs/http-express';\nimport { InversifyValidationErrorFilter } from '@inversifyjs/http-validation';\nimport { Container } from 'inversify';\n\nconst container: Container = new Container();\n\nconst adapter: InversifyExpressHttpAdapter = new InversifyExpressHttpAdapter(\n  container,\n  { logger: true },\n);\nadapter.useGlobalFilters(InversifyValidationErrorFilter);\nadapter.useGlobalPipe(new ClassValidationPipe());"}),"\n",(0,t.jsx)(e.h2,{id:"using-class-validator-decorators",children:"Using class-validator decorators"}),"\n",(0,t.jsxs)(e.p,{children:["To validate request parameters, create classes with class-validator decorators and use them as parameter types in your controller methods. The ",(0,t.jsx)(e.code,{children:"ClassValidationPipe"})," will automatically validate and transform the data."]}),"\n",(0,t.jsxs)(e.p,{children:["On validation failure, an ",(0,t.jsx)(e.code,{children:"InversifyValidationError"})," is thrown and can be converted to a Bad Request HTTP response by ",(0,t.jsx)(e.code,{children:"InversifyValidationErrorFilter"}),"."]}),"\n",(0,t.jsx)(e.h3,{id:"example-validate-request-body-with-class-validator",children:"Example: validate request body with class-validator"}),"\n",(0,t.jsx)(l.A,{language:"ts",children:"import { Body, Controller, Post } from '@inversifyjs/http-core';\nimport { IsString } from 'class-validator';\n\nclass Message {\n  @IsString()\n  public readonly content!: string;\n}\n\n@Controller('/messages')\nexport class MessageController {\n  @Post()\n  public async createMessage(\n    @Body()\n    message: Message,\n  ): Promise<Message> {\n    return message;\n  }\n}"}),"\n",(0,t.jsx)(e.h3,{id:"available-validation-decorators",children:"Available Validation Decorators"}),"\n",(0,t.jsxs)(e.p,{children:["Class-validator provides many built-in validation decorators. For a complete list of available decorators, see the ",(0,t.jsx)(e.a,{href:"https://github.com/typestack/class-validator#validation-decorators",children:"class-validator documentation"}),"."]})]})}function v(a={}){let{wrapper:e}={...(0,r.R)(),...a.components};return e?(0,t.jsx)(e,{...a,children:(0,t.jsx)(p,{...a})}):p(a)}}}]);