"use strict";(self.webpackChunk_inversifyjs_framework_docs_site=self.webpackChunk_inversifyjs_framework_docs_site||[]).push([["4981"],{7360:function(e,a,n){n.r(a),n.d(a,{metadata:()=>r,default:()=>v,frontMatter:()=>u,contentTitle:()=>c,toc:()=>p,assets:()=>d});var r=JSON.parse('{"id":"ajv/introduction","title":"Introduction","description":"Ajv (Another JSON Schema Validator) is a popular, fast JSON Schema validator for Node.js and browser. It validates data against JSON Schema and is commonly used for API request/response validation.","source":"@site/validation-docs/ajv/introduction.mdx","sourceDirName":"ajv","slug":"/ajv/introduction","permalink":"/framework/validation/ajv/introduction","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Introduction"},"sidebar":"validationSidebar","previous":{"title":"API","permalink":"/framework/validation/standard-schema/api"},"next":{"title":"API","permalink":"/framework/validation/ajv/api"}}'),t=n(6820),i=n(4912),s=n(7508),o=n(6933),l=n(328);let u={sidebar_position:1,title:"Introduction"},c,d={},p=[{value:"Install dependencies",id:"install-dependencies",level:2},{value:"Quick Start",id:"quick-start",level:2}];function m(e){let a={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"https://ajv.js.org/",children:"Ajv"})," (Another JSON Schema Validator) is a popular, fast JSON Schema validator for Node.js and browser. It validates data against JSON Schema and is commonly used for API request/response validation."]}),"\n",(0,t.jsx)(a.p,{children:"Inversify Validation's Ajv package provides seamless integration with Ajv, allowing you to validate data in your Inversify applications using JSON Schema definitions. The package includes both standard and compiled validation pipes for optimal performance."}),"\n",(0,t.jsx)(a.h2,{id:"install-dependencies",children:"Install dependencies"}),"\n",(0,t.jsx)(a.p,{children:"In order to use the package, install it along with Ajv:"}),"\n",(0,t.jsxs)(s.A,{children:[(0,t.jsx)(o.A,{value:"npm",label:"npm",children:(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"npm install ajv @inversifyjs/ajv-validation\n"})})}),(0,t.jsx)(o.A,{value:"yarn",label:"yarn",children:(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"yarn add ajv @inversifyjs/ajv-validation\n"})})}),(0,t.jsx)(o.A,{value:"pnpm",label:"pnpm",children:(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"pnpm install ajv @inversifyjs/ajv-validation\n"})})})]}),"\n",(0,t.jsx)(a.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(a.p,{children:"Here's a simple example of how to use Ajv validation in your Inversify application:"}),"\n",(0,t.jsx)(l.A,{language:"ts",children:"import {\n  AjvValidationPipe,\n  ValidateAjvSchema,\n} from '@inversifyjs/ajv-validation';\nimport { Body, Controller, Post } from '@inversifyjs/http-core';\nimport { InversifyExpressHttpAdapter } from '@inversifyjs/http-express';\nimport { InversifyValidationErrorFilter } from '@inversifyjs/http-validation';\nimport { AnySchema } from 'ajv';\nimport Ajv from 'ajv';\nimport { Container } from 'inversify';\n\nconst container: Container = new Container();\nconst ajv: Ajv = new Ajv();\n\n// Create HTTP adapter\nconst adapter: InversifyExpressHttpAdapter = new InversifyExpressHttpAdapter(\n  container,\n);\n\n// Register global AJV validation pipe\nadapter.useGlobalPipe(new AjvValidationPipe(ajv));\nadapter.useGlobalFilters(InversifyValidationErrorFilter);\n\n// Define a JSON schema\nconst userSchema: AnySchema = {\n  additionalProperties: false,\n  properties: {\n    age: { minimum: 0, type: 'number' },\n    email: { format: 'email', type: 'string' },\n    name: { minLength: 1, type: 'string' },\n  },\n  required: ['name', 'email'],\n  type: 'object',\n};\n\ninterface User {\n  age?: number;\n  email: string;\n  name: string;\n}\n\n@Controller('/users')\nexport class UserController {\n  @Post('/')\n  public createUser(@ValidateAjvSchema(userSchema) @Body() user: User): string {\n    return `Created user: ${user.name}`;\n  }\n}\n"}),"\n",(0,t.jsx)(a.p,{children:"This example sets up Ajv validation for a user creation endpoint, ensuring that the request body matches the defined JSON schema before the controller method executes."})]})}function v(e={}){let{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},6933:function(e,a,n){n.d(a,{A:()=>i});var r=n(6820);n(5080);var t=n(4921);function i({children:e,hidden:a,className:n}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.A)("tabItem_vHDL",n),hidden:a,children:e})}},7508:function(e,a,n){n.d(a,{A:()=>y});var r=n(6820),t=n(5080),i=n(4921),s=n(5113),o=n(1458),l=n(3357),u=n(4356),c=n(9239),d=n(2124),p=n(612);function m(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){let{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function v({value:e,tabValues:a}){return a.some(a=>a.value===e)}var h=n(1712);function f({className:e,block:a,selectedValue:n,selectValue:t,tabValues:s}){let l=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.a_)(),c=e=>{let a=e.currentTarget,r=s[l.indexOf(a)].value;r!==n&&(u(a),t(r))},d=e=>{let a=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{let n=l.indexOf(e.currentTarget)+1;a=l[n]??l[0];break}case"ArrowLeft":{let n=l.indexOf(e.currentTarget)-1;a=l[n]??l[l.length-1]}}a?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":a},e),children:s.map(({value:e,label:a,attributes:t})=>(0,r.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...t,className:(0,i.A)("tabs__item","tabItem_pML9",t?.className,{"tabs__item--active":n===e}),children:a??e},e))})}function j({lazy:e,children:a,selectedValue:n}){let s=(Array.isArray(a)?a:[a]).filter(Boolean);if(e){let e=s.find(e=>e.props.value===n);return e?(0,t.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:s.map((e,a)=>(0,t.cloneElement)(e,{key:a,hidden:e.props.value!==n}))})}function b(e){let a=function(e){let a,{defaultValue:n,queryString:r=!1,groupId:i}=e,s=function(e){let{values:a,children:n}=e;return(0,t.useMemo)(()=>{let e=a??m(n).map(({props:{value:e,label:a,attributes:n,default:r}})=>({value:e,label:a,attributes:n,default:r})),r=(0,d.XI)(e,(e,a)=>e.value===a.value);if(r.length>0)throw Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[a,n])}(e),[o,h]=(0,t.useState)(()=>(function({defaultValue:e,tabValues:a}){if(0===a.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!v({value:e,tabValues:a}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${a.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let n=a.find(e=>e.default)??a[0];if(!n)throw Error("Unexpected error: 0 tabValues");return n.value})({defaultValue:n,tabValues:s})),[f,j]=function({queryString:e=!1,groupId:a}){let n=(0,l.W6)(),r=function({queryString:e=!1,groupId:a}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!a)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:e,groupId:a});return[(0,c.aZ)(r),(0,t.useCallback)(e=>{if(!r)return;let a=new URLSearchParams(n.location.search);a.set(r,e),n.replace({...n.location,search:a.toString()})},[r,n])]}({queryString:r,groupId:i}),[b,y]=function({groupId:e}){let a=e?`docusaurus.tab.${e}`:null,[n,r]=(0,p.Dv)(a);return[n,(0,t.useCallback)(e=>{a&&r.set(e)},[a,r])]}({groupId:i}),g=v({value:a=f??b,tabValues:s})?a:null;return(0,u.A)(()=>{g&&h(g)},[g]),{selectedValue:o,selectValue:(0,t.useCallback)(e=>{if(!v({value:e,tabValues:s}))throw Error(`Can't select invalid tab value=${e}`);h(e),j(e),y(e)},[j,y,s]),tabValues:s}}(e);return(0,r.jsxs)("div",{className:(0,i.A)(s.G.tabs.container,"tabs-container","tabList_eMv8"),children:[(0,r.jsx)(f,{...a,...e}),(0,r.jsx)(j,{...a,...e})]})}function y(e){let a=(0,h.A)();return(0,r.jsx)(b,{...e,children:m(e.children)},String(a))}}}]);